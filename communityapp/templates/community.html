{% extends 'base.html' %}
{% load static %}
{% load humanize %}

{% block content %}

<body>



  <section class="container">
    <div class="row">
      <div class="col-md-8">
        <div class="communityborder">
        <div class="col">
      

      </div> 
      
      <h1 class="communityhead pt-3">{{ question.question }}</h1>
       <span class="smallhead text-secondary pt-3">{{ question.created|naturaltime}} by {{ question.user.username }}</span>
      <hr>

      <!-- Voting up and down for question -->
<div class="row">
        <div class="col-2 col-md-1">
          <div class="pt-1">
             
             <button onclick="onClick1()" id="upvote" value="{{question.pk}}"><i class="fa fa-caret-up fa-2x text-secondary"></i></button>
         <span id="smallvote" class="smallvote">{{question.upvote}}</span>

         <button onclick="onClick2()" id="downvote" value = "{{question.pk}}"><i class="fa fa-caret-down fa-2x text-secondary"></i></button>
         <span id="svote" class="svote">{{question.downvote}}</span>
           

        </div>


        </div>
        <div class="col-10 col-md-11">
          <span class="smallhead"><img src="img/name.png" alt="" class="img-fluid pr-2">
         <span class="namecolor">{{ question.user.username }}</span> <a href="#" class="exlink" data-toggle="tooltip" data-placement="bottom" title="One who writes upto 50 Answers will be badged as New Comer"><span class="newcomer rounded mx-2">{{ answer.userlabel }}</span></a> | {{answer.answer_set.count}}} </span>
          <p class="lineheight mt-3" style="word-wrap: break-word;"><span class="answersmall">{{question.description}}</span><br> 
       <!--  <a href="#"><button class="btn questionbtn">Answer</button></a>
 -->       

          <button class="btn questionbtn" id="answerNow">Answer</button>
              <span class="p-2 namecolor">Like</span>
              <span class="share">share</span>
              <textarea class="form-control is-invalid mt-3 d-none" id="validationTextarea" placeholder=""
                required></textarea>

    
        </div>
      </div>


      </div>
      <p class="answers my-4 px-3 p-2">2 answers</p>

{% for answer in answers %}
      <div class="communityborderanswer">
      
      <div class="row">
       
       <!-- Voting up and down for answer -->
         
        <div class="col-2 col-md-1">
          <div class="pt-1">
             
             <button onclick="onClick3()" id="aupvote" value="{{answer.pk}}"><i class="fa fa-caret-up fa-2x text-secondary"></i></button>
         <span id="smallvote" class="smallvote">{{upvote}}</span>

         <button onclick="onClick4()" id="adownvote" value = "{{answer.pk}}"><i class="fa fa-caret-down fa-2x text-secondary"></i></button>
         <span id="svote" class="svote">{{downvote}}</span>

        </div>


        </div>
        <div class="col-10 col-md-11">
          <span class="smallhead"><span class="namecolor"> <img src="img/name2.png" alt="" class="img-fluid pr-2"> {{ answer.user.username }}</span><a href="#" class="exlink" data-toggle="tooltip" data-placement="bottom" title="One who writes upto 500 Answers will be badged as Expert"><span class="expert  rounded mx-2">{{ answer.userlabel }}</span></a> |  7880 answered</span>
           <span class="answerbtn mx-2 p-1">Best Answer</span>

          <p class="lineheight mt-3" style="word-wrap: break-word;"><span class="answersmall">{{ answer.answer|safe }}</span><br>

        <a href="#"><button class="btn btn-outline-dark btn-sm">Comment</button></a>
        
        <span class="share">share</span>

<div class="row">
          <div class="col-12">
             <span class="smallhead"><span class="namecolor"> <img src="img/name2.png" alt="" class="img-fluid pr-2"> Hari</span><a href="#" class="exlink" data-toggle="tooltip" data-placement="bottom" title="One who writes upto 500 Answers will be badged as Expert"><span class="expert  rounded mx-2">Beginner</span></a> |  7880 answered</span>
           

          <p class="lineheight mt-3" style="word-wrap: break-word;"><span class="answersmall">comment description</span><br>

        <a href="#"><button class="btn btn-outline-dark btn-sm">Comment</button></a>
        
          </div>
        </div>




<form action="" method="post">
          {% csrf_token %}
            
            <input type="submit" value="Submit">
           </form>
    
        </div>
      </div>
       
      </div>

      {% endfor %}


      <!-- This is answer form -->
  
      <div class="communityborder mt-5">
        <div class="col">
        <form action="" method="post">
          {% csrf_token %}
            {{ answerform }}
            <input type="submit" value="Submit">
           </form>

      </div>
      </div>
 


      <div class=" mt-5">
       <h3 class="answers my-4 p-3">Related Questions </h3>
       <div class="communityborder relatedbgcolor">
       <p class="relatedquestion">Trying to parse multiple files in python using glob but I am confused on how to implement it</p>
       <div class="row smallhead">
        <div class="col">
          Answered by <span class="namecolor">Sairam</span>
        </div>
         <div class="col">
          Category: <span class="namecolor">Data Science</span>
        </div>
         <div class="col">
          Views: 4
        </div>
         <div class="col">
          1 Answer
        </div>
       </div>
     </div>
      <div class="communityborder relatedbgcolor">
       <p class="relatedquestion">Trying to parse multiple files in python using glob but I am confused on how to implement it</p>
       <div class="row smallhead">
        <div class="col">
          Answered by <span class="namecolor">Sairam</span>
        </div>
         <div class="col">
          Category: <span class="namecolor">Data Science</span>
        </div>
         <div class="col">
          Views: 4
        </div>
         <div class="col">
          1 Answer
        </div>
       </div>
     </div>
      <div class="communityborder relatedbgcolor">
       <p class="relatedquestion">Trying to parse multiple files in python using glob but I am confused on how to implement it</p>
       <div class="row smallhead">
        <div class="col">
          Answered by <span class="namecolor">Sairam</span>
        </div>
         <div class="col">
          Category: <span class="namecolor">Data Science</span>
        </div>
         <div class="col">
          Views: 4
        </div>
         <div class="col">
          1 Answer
        </div>
       </div>
     </div>

     </div>
     
</div>
      <div class="col-md-4">
       <form action="/search/" method="POST" class="form-inline">
        {% csrf_token %}
          <div class="input-group mt-5 mt-md-0">
            <input name="findquestion" type="search" class="form-control" placeholder="Search.." aria-label="Search" />
            <div class="input-group-append">
              <button type="submit" class="btn">Search</button>
              <span class="input-group-text communitysearch">
                <i class="fa fa-search"></i>
              </span>
            </div>
          </div>
        </form>

        <button type="button" class="btn questionbtnbig btn-block my-4 p-3" data-toggle="modal"
          data-target="#exampleModalCenter">
          Ask us a question
        </button>

        <!-- Modal -->
        <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog"
          aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Ask your question in a signle line</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <textarea class="form-control is-invalid" id="validationTextarea" placeholder="" required></textarea>
                <div class="row my-3">
                  <div class="col-md-3">
                    <h5>Category:</h5>
                  </div>
                  <div class="col-md-9">
                    <select class="custom-select" id="inputGroupSelect01">
                      <option selected>select one</option>
                      <option value="1">One</option>
                      <option value="2">Two</option>
                    </select>
                  </div>
                </div>
                <div class="row my-3">
                  <div class="col-md-12">
                    <h5>Describe our Question:</h5>
                    <div class="row my-3">
                      <div class="col-md-3">
                    <h5>verification: </h5>
                  </div>
                  <div class="col-md-9"><h5>what is 7+3</h5>
                    <input type="text" class="form-control" placeholder="">
                  </div>
                   
                  </div>
                    <form>
                      <div class="form-group ml-4 my-3">
                        <input type="checkbox" class="form-check-input" id="exampleCheck1">
                        <label class="form-check-label" for="exampleCheck1"><h6>Email me if anyone answers my
                          question</h6></label>
                      </div>
                    </form>
                  </div>

                </div>
              
                 
                  <button type="button" class="btn questionbtnbig">Sumbit</button>
               
              </div>
            </div>
          </div>
</div>
     <!-- Button trigger modal -->
<!-- <button type="button" class="btn questionbtnbig btn-block my-4 p-3" data-toggle="modal" data-target="#exampleModalCenter">
  Ask us a question
</button>

 Modal -->
<!-- <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">Ask your question here</h5>
      </div>
      <form action="" Id="submit"  method="POST">
        {% csrf_token %}
        {{ form.as_p }}
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">cancel</button>
        <button type="submit" class="btn btn-primary">submit</button>
      </div>
    </form>
    </div>
  </div>
</div> --> 

 
         <div class="">
          <h2 class="communitysidehead text-uppercase">Recent in Python  </h2>
          
            <ul class="catquestion catname pt-3">
              {% for i in object.recent %}
              <li>{{ i.question }}</li>
              {% endfor %}
              

            </ul>
          </div>
<div class="mt-4">
 <h2 class="communitysidehead text-uppercase">Categories</h2>
 
  
<ul class="communitycategories catname ">
  {% for i in categorys|slice:":10" %}
    <a href=""><li> {{ i.category }} <span class="badge badgenumber">10</span></li></a>
    {% endfor %}
</ul>
 
 
    </div>
  </div>

  </section>

  
</div>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
 <script src="https://kit.fontawesome.com/a01bd6bffe.js" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"></script>

  <script type="text/javascript">

    function onClick1(){
      var uo =document.getElementById("upvote").value
      $.ajax({
        url : "{% 'communityapp:upvote' %}",
        data : {'uo':uo},
        success: function(data){
          document.getElementById("smallvote").innerHTML = data.uo
          
        }

      }) 

    }

  </script>
    
  <script type="text/javascript">
    function onClick2(){
      var dov =document.getElementById("downvote").value
      $.ajax({
        url : "{% url 'communityapp:downvote' %}",
        data : {'dov':dov},
        success: function(data){
          document.getElementById("svote").innerHTML = data.dov
          
        }

      }) 

    }

  </script>

  <script type="text/javascript">
    $('#answerNow').click(function () {
      $('#validationTextarea').toggleClass('d-none');

    })
  </script>



 
</body>

{% endblock %}